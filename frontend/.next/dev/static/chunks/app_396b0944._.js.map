{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/config/geoserver.config.ts"],"sourcesContent":["// C·∫•u h√¨nh GeoServer\r\nexport const geoServerConfig = {\r\n  // URL c·ªßa GeoServer\r\n  // S·ª≠ d·ª•ng proxy API ƒë·ªÉ bypass CORS\r\n  url: process.env.NEXT_PUBLIC_USE_GEOSERVER_PROXY === 'true' \r\n    ? '/api/geoserver'  // D√πng Next.js API proxy\r\n    : (process.env.NEXT_PUBLIC_GEOSERVER_URL || 'http://localhost:8080/geoserver/wms'),\r\n  \r\n  // T√™n workspace trong GeoServer\r\n  workspace: process.env.NEXT_PUBLIC_GEOSERVER_WORKSPACE || 'ne',\r\n  \r\n  // T√™n layer gi√≥ trong GeoServer  \r\n  windLayer: process.env.NEXT_PUBLIC_GEOSERVER_WIND_LAYER || 'resample',\r\n  \r\n  // C·∫•u h√¨nh WMS\r\n  wms: {\r\n    version: '1.1.0',\r\n    format: 'image/png',  // Mapbox ch·ªâ h·ªó tr·ª£ PNG, JPEG, WebP\r\n    transparent: true,\r\n    srs: 'EPSG:3857',\r\n    tileSize: 256,\r\n  },\r\n  \r\n  // C·∫•u h√¨nh hi·ªÉn th·ªã\r\n  display: {\r\n    opacity: 0.7,\r\n    fadeDuration: 300,\r\n  },\r\n\r\n  // Enable/disable wind layer (useful for testing without GeoServer)\r\n  enabled: true, // T·∫Øt cho ƒë·∫øn khi GeoServer s·∫µn s√†ng\r\n};\r\n\r\n// H√†m t·∫°o URL cho WMS GetMap request\r\nexport const getWMSTileUrl = (layerName: string): string => {\r\n  const { url, wms } = geoServerConfig;\r\n  return `${url}?service=WMS&version=${wms.version}&request=GetMap&layers=${layerName}&bbox={bbox-epsg-3857}&width=${wms.tileSize}&height=${wms.tileSize}&srs=${wms.srs}&format=${wms.format}&transparent=${wms.transparent}`;\r\n};\r\n\r\n// Alternative: Public WMS servers for testing (OpenWeatherMap, etc.)\r\nexport const publicWeatherWMS = {\r\n  // OpenWeatherMap Wind Speed layer (requires API key)\r\n  openweathermap: (apiKey: string) => \r\n    `https://tile.openweathermap.org/map/wind_new/{z}/{x}/{y}.png?appid=${apiKey}`,\r\n  \r\n  // Example: Iowa Environmental Mesonet\r\n  iem: 'https://mesonet.agron.iastate.edu/cgi-bin/wms/nexrad/n0r.cgi?',\r\n};\r\n\r\n// For testing without GeoServer, you can use these public services\r\nexport const usePublicWindLayer = () => {\r\n  const apiKey = process.env.NEXT_PUBLIC_OPENWEATHERMAP_API_KEY;\r\n  if (apiKey) {\r\n    return publicWeatherWMS.openweathermap(apiKey);\r\n  }\r\n  return null;\r\n};\r\n"],"names":[],"mappings":"AAAA,qBAAqB;;;;;;;;;;;AAId;AAHA,MAAM,kBAAkB;IAC7B,oBAAoB;IACpB,mCAAmC;IACnC,KAAK,uCACD,iBAAkB,yBAAyB;OAC3C;IAEJ,gCAAgC;IAChC,WAAW,0CAA+C;IAE1D,kCAAkC;IAClC,WAAW,gDAAgD;IAE3D,eAAe;IACf,KAAK;QACH,SAAS;QACT,QAAQ;QACR,aAAa;QACb,KAAK;QACL,UAAU;IACZ;IAEA,oBAAoB;IACpB,SAAS;QACP,SAAS;QACT,cAAc;IAChB;IAEA,mEAAmE;IACnE,SAAS;AACX;AAGO,MAAM,gBAAgB,CAAC;IAC5B,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;IACrB,OAAO,GAAG,IAAI,qBAAqB,EAAE,IAAI,OAAO,CAAC,uBAAuB,EAAE,UAAU,6BAA6B,EAAE,IAAI,QAAQ,CAAC,QAAQ,EAAE,IAAI,QAAQ,CAAC,KAAK,EAAE,IAAI,GAAG,CAAC,QAAQ,EAAE,IAAI,MAAM,CAAC,aAAa,EAAE,IAAI,WAAW,EAAE;AAC7N;AAGO,MAAM,mBAAmB;IAC9B,qDAAqD;IACrD,gBAAgB,CAAC,SACf,CAAC,mEAAmE,EAAE,QAAQ;IAEhF,sCAAsC;IACtC,KAAK;AACP;AAGO,MAAM,qBAAqB;IAChC,MAAM,SAAS,2KAAO,CAAC,GAAG,CAAC,kCAAkC;IAC7D,IAAI,QAAQ;QACV,OAAO,iBAAiB,cAAc,CAAC;IACzC;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/MapControls.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\ntype MapControlsProps = {\r\n  onLayerToggle?: (layer: string, enabled: boolean) => void;\r\n};\r\n\r\nexport default function MapControls({ onLayerToggle }: MapControlsProps) {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [showLayers, setShowLayers] = useState(false);\r\n  const [layers, setLayers] = useState({\r\n    windSpeed: false,\r\n    temperature: true,\r\n    precipitation: false,\r\n    pressure: false,\r\n  });\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\r\n        setShowLayers(false);\r\n      }\r\n    };\r\n\r\n    if (showLayers) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n  }, [showLayers]);\r\n\r\n  const toggleLayer = (layer: string) => {\r\n    setLayers((prev) => {\r\n      const newLayers = { ...prev, [layer]: !prev[layer as keyof typeof layers] };\r\n      onLayerToggle?.(layer, newLayers[layer as keyof typeof layers]);\r\n      return newLayers;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"absolute top-4 left-4 right-4 flex items-start justify-between gap-4 z-10\">\r\n      {/* Search Bar */}\r\n      <div className=\"flex-1 max-w-md\">\r\n        <div className=\"flex items-stretch rounded-lg h-12 shadow-lg overflow-hidden\">\r\n          <div className=\"flex items-center justify-center pl-4 bg-[#1c2127]/80 backdrop-blur-sm text-gray-400\">\r\n            <svg\r\n              className=\"w-5 h-5\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n            placeholder=\"Search for a location\"\r\n            className=\"flex-1 bg-[#1c2127]/80 backdrop-blur-sm text-white placeholder:text-gray-400 px-4 border-none focus:outline-none focus:ring-0\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Layers Button */}\r\n      <div className=\"relative\" ref={dropdownRef}>\r\n        <button\r\n          onClick={() => setShowLayers(!showLayers)}\r\n          className=\"flex items-center justify-center rounded-lg h-12 bg-[#137fec] text-white gap-2 text-sm font-bold px-4 shadow-lg hover:bg-[#137fec]/90 transition-colors\"\r\n        >\r\n          <svg\r\n            className=\"w-5 h-5\"\r\n            fill=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path d=\"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z\" />\r\n          </svg>\r\n          <span className=\"hidden md:block\">Layers</span>\r\n        </button>\r\n\r\n        {/* Layers Dropdown */}\r\n        {showLayers && (\r\n          <div className=\"absolute top-full right-0 mt-2 w-56 rounded-lg bg-[#1c2127]/95 backdrop-blur-sm shadow-lg p-2 animate-fadeIn\">\r\n            <div className=\"flex flex-col gap-1 text-white\">\r\n              <label className=\"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-white/10 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={layers.windSpeed}\r\n                  onChange={() => toggleLayer('windSpeed')}\r\n                  className=\"rounded bg-transparent border-white/50 text-[#137fec] focus:ring-[#137fec] focus:ring-offset-0\"\r\n                />\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M14 5l7 7m0 0l-7 7m7-7H3\"\r\n                  />\r\n                </svg>\r\n                <span className=\"text-sm\">Wind Speed</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-white/10 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={layers.temperature}\r\n                  onChange={() => toggleLayer('temperature')}\r\n                  className=\"rounded bg-transparent border-white/50 text-[#137fec] focus:ring-[#137fec] focus:ring-offset-0\"\r\n                />\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n                  />\r\n                </svg>\r\n                <span className=\"text-sm\">Temperature</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-white/10 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={layers.precipitation}\r\n                  onChange={() => toggleLayer('precipitation')}\r\n                  className=\"rounded bg-transparent border-white/50 text-[#137fec] focus:ring-[#137fec] focus:ring-offset-0\"\r\n                />\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"\r\n                  />\r\n                </svg>\r\n                <span className=\"text-sm\">Precipitation</span>\r\n              </label>\r\n\r\n              <label className=\"flex items-center gap-3 px-3 py-2 rounded-md hover:bg-white/10 cursor-pointer\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={layers.pressure}\r\n                  onChange={() => toggleLayer('pressure')}\r\n                  className=\"rounded bg-transparent border-white/50 text-[#137fec] focus:ring-[#137fec] focus:ring-offset-0\"\r\n                />\r\n                <svg\r\n                  className=\"w-5 h-5\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\r\n                  />\r\n                </svg>\r\n                <span className=\"text-sm\">Pressure</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 439, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/ZoomControls.tsx"],"sourcesContent":["'use client';\r\n\r\ntype ZoomControlsProps = {\r\n  onZoomIn?: () => void;\r\n  onZoomOut?: () => void;\r\n  onLocationClick?: () => void;\r\n};\r\n\r\nexport default function ZoomControls({\r\n  onZoomIn,\r\n  onZoomOut,\r\n  onLocationClick,\r\n}: ZoomControlsProps) {\r\n  return (\r\n    <div className=\"absolute bottom-4 right-4 flex flex-col items-end gap-3 z-10\">\r\n      {/* Zoom Controls */}\r\n      <div className=\"flex flex-col gap-0.5 shadow-lg\">\r\n        <button\r\n          onClick={onZoomIn}\r\n          className=\"flex size-10 items-center justify-center rounded-t-lg bg-[#1c2127]/80 backdrop-blur-sm hover:bg-[#1c2127] transition-colors\"\r\n        >\r\n          <svg\r\n            className=\"w-5 h-5 text-white\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M12 4v16m8-8H4\"\r\n            />\r\n          </svg>\r\n        </button>\r\n        <button\r\n          onClick={onZoomOut}\r\n          className=\"flex size-10 items-center justify-center rounded-b-lg bg-[#1c2127]/80 backdrop-blur-sm hover:bg-[#1c2127] transition-colors\"\r\n        >\r\n          <svg\r\n            className=\"w-5 h-5 text-white\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M20 12H4\"\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Location Button */}\r\n      <button\r\n        onClick={onLocationClick}\r\n        className=\"flex size-10 items-center justify-center rounded-lg bg-[#1c2127]/80 backdrop-blur-sm shadow-lg hover:bg-[#1c2127] transition-colors\"\r\n      >\r\n        <svg\r\n          className=\"w-5 h-5 text-white\"\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n          />\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n          />\r\n        </svg>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;AAQe,SAAS,aAAa,EACnC,QAAQ,EACR,SAAS,EACT,eAAe,EACG;IAClB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,6LAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;;;;;;kCAIR,6LAAC;wBACC,SAAS;wBACT,WAAU;kCAEV,cAAA,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,6LAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;0BAOV,6LAAC;gBACC,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;;sCAER,6LAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;sCAEJ,6LAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;AAMd;KA1EwB","debugId":null}},
    {"offset": {"line": 572, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/WindLegend.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nexport default function WindLegend() {\r\n  const [isExpanded, setIsExpanded] = useState(true);\r\n\r\n  const windScale = [\r\n    { speed: '0-5', color: '#3288bd', label: 'Nh·∫π' },\r\n    { speed: '5-10', color: '#66c2a5', label: 'V·ª´a ph·∫£i' },\r\n    { speed: '10-15', color: '#fee08b', label: 'M·∫°nh' },\r\n    { speed: '15-20', color: '#f46d43', label: 'R·∫•t m·∫°nh' },\r\n    { speed: '20+', color: '#d53e4f', label: 'C·ª±c m·∫°nh' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"absolute bottom-20 left-4 bg-[#1c2127]/80 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden\">\r\n      <button\r\n        onClick={() => setIsExpanded(!isExpanded)}\r\n        className=\"w-full px-4 py-2 text-left flex items-center justify-between hover:bg-[#1c2127] transition-colors\"\r\n      >\r\n        <span className=\"text-white font-semibold text-sm\">üå¨Ô∏è Wind Speed (m/s)</span>\r\n        <svg\r\n          className={`w-4 h-4 text-gray-400 transition-transform ${\r\n            isExpanded ? 'rotate-180' : ''\r\n          }`}\r\n          fill=\"none\"\r\n          stroke=\"currentColor\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            strokeLinecap=\"round\"\r\n            strokeLinejoin=\"round\"\r\n            strokeWidth={2}\r\n            d=\"M19 9l-7 7-7-7\"\r\n          />\r\n        </svg>\r\n      </button>\r\n\r\n      {isExpanded && (\r\n        <div className=\"px-4 pb-3 pt-1\">\r\n          <div className=\"space-y-2\">\r\n            {windScale.map((item, index) => (\r\n              <div key={index} className=\"flex items-center gap-3\">\r\n                <div\r\n                  className=\"w-8 h-4 rounded shadow-sm\"\r\n                  style={{ backgroundColor: item.color }}\r\n                />\r\n                <div className=\"flex-1\">\r\n                  <div className=\"text-gray-300 text-xs font-medium\">\r\n                    {item.speed} m/s\r\n                  </div>\r\n                  <div className=\"text-gray-400 text-xs\">{item.label}</div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAE7C,MAAM,YAAY;QAChB;YAAE,OAAO;YAAO,OAAO;YAAW,OAAO;QAAM;QAC/C;YAAE,OAAO;YAAQ,OAAO;YAAW,OAAO;QAAW;QACrD;YAAE,OAAO;YAAS,OAAO;YAAW,OAAO;QAAO;QAClD;YAAE,OAAO;YAAS,OAAO;YAAW,OAAO;QAAW;QACtD;YAAE,OAAO;YAAO,OAAO;YAAW,OAAO;QAAW;KACrD;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,cAAc,CAAC;gBAC9B,WAAU;;kCAEV,6LAAC;wBAAK,WAAU;kCAAmC;;;;;;kCACnD,6LAAC;wBACC,WAAW,CAAC,2CAA2C,EACrD,aAAa,eAAe,IAC5B;wBACF,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,6LAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;;YAKP,4BACC,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACZ,UAAU,GAAG,CAAC,CAAC,MAAM,sBACpB,6LAAC;4BAAgB,WAAU;;8CACzB,6LAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,iBAAiB,KAAK,KAAK;oCAAC;;;;;;8CAEvC,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;gDACZ,KAAK,KAAK;gDAAC;;;;;;;sDAEd,6LAAC;4CAAI,WAAU;sDAAyB,KAAK,KAAK;;;;;;;;;;;;;2BAT5C;;;;;;;;;;;;;;;;;;;;;AAkBxB;GAzDwB;KAAA","debugId":null}},
    {"offset": {"line": 732, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/MapInfo.tsx"],"sourcesContent":["'use client';\r\n\r\ninterface MapInfoProps {\r\n  lat: number;\r\n  lng: number;\r\n  zoom: number;\r\n}\r\n\r\nexport default function MapInfo({ lat, lng, zoom }: MapInfoProps) {\r\n  return (\r\n    <div className=\"absolute bottom-4 left-4 bg-[#1c2127]/80 backdrop-blur-sm rounded-lg px-3 py-2 shadow-lg\">\r\n      <div className=\"flex items-center gap-4 text-xs\">\r\n        <div className=\"text-gray-400\">\r\n          <span className=\"text-gray-500\">Lat:</span>{' '}\r\n          <span className=\"text-white font-mono\">{lat.toFixed(4)}</span>\r\n        </div>\r\n        <div className=\"text-gray-400\">\r\n          <span className=\"text-gray-500\">Lng:</span>{' '}\r\n          <span className=\"text-white font-mono\">{lng.toFixed(4)}</span>\r\n        </div>\r\n        <div className=\"text-gray-400\">\r\n          <span className=\"text-gray-500\">Zoom:</span>{' '}\r\n          <span className=\"text-white font-mono\">{zoom.toFixed(1)}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;AAQe,SAAS,QAAQ,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAgB;IAC9D,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;sCAAgB;;;;;;wBAAY;sCAC5C,6LAAC;4BAAK,WAAU;sCAAwB,IAAI,OAAO,CAAC;;;;;;;;;;;;8BAEtD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;sCAAgB;;;;;;wBAAY;sCAC5C,6LAAC;4BAAK,WAAU;sCAAwB,IAAI,OAAO,CAAC;;;;;;;;;;;;8BAEtD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAK,WAAU;sCAAgB;;;;;;wBAAa;sCAC7C,6LAAC;4BAAK,WAAU;sCAAwB,KAAK,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAK/D;KAnBwB","debugId":null}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/Map.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useRef, useCallback, useState } from 'react';\r\nimport mapboxgl from 'mapbox-gl';\r\nimport { geoServerConfig, getWMSTileUrl } from '../../config/geoserver.config';\r\nimport MapControls from './MapControls';\r\nimport ZoomControls from './ZoomControls';\r\nimport WindLegend from './WindLegend';\r\nimport MapInfo from './MapInfo';\r\n\r\nmapboxgl.accessToken = process.env.NEXT_PUBLIC_MAPBOX_TOKEN!;\r\n\r\ntype MapProps = {\r\n  onMapReady?: (flyToLocation: (lng: number, lat: number, zoom?: number, imageUrl?: string) => void) => void;\r\n};\r\n\r\nexport default function Map({ onMapReady }: MapProps) {\r\n  const mapContainer = useRef<HTMLDivElement | null>(null);\r\n  const map = useRef<mapboxgl.Map | null>(null);\r\n  const marker = useRef<mapboxgl.Marker | null>(null);\r\n  const [mapState, setMapState] = useState({\r\n    lat: 21.0278,\r\n    lng: 105.8342,\r\n    zoom: 6,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!mapContainer.current) return;\r\n    if (map.current) return;\r\n\r\n    const bounds: [[number, number], [number, number]] = [\r\n      [0.0, 0.0],\r\n      [150.0, 30.0],\r\n    ];\r\n\r\n    const newMap = new mapboxgl.Map({\r\n      container: mapContainer.current,\r\n      // S·ª≠ d·ª•ng style ƒë∆°n gi·∫£n t·ª´ Mapbox\r\n      style: 'mapbox://styles/mapbox/dark-v11',\r\n      center: [105.8342, 21.0278],\r\n      zoom: 6,\r\n      minZoom: 2,\r\n      maxZoom: 12,\r\n      maxBounds: bounds,\r\n      // S·ª≠ d·ª•ng projection 2D nh∆∞ Windy.com\r\n      projection: 'mercator' as any,\r\n      // T·∫Øt c√°c t√≠nh nƒÉng 3D\r\n      pitch: 0,\r\n      bearing: 0,\r\n      // T·∫Øt terrain 3D\r\n      // terrain: undefined,\r\n    });\r\n\r\n    map.current = newMap;\r\n\r\n    // Expose flyToLocation function to parent component\r\n    const flyToLocation = (lng: number, lat: number, zoom: number = 10, imageUrl?: string) => {\r\n      if (!map.current) return;\r\n\r\n      // Remove old marker if exists\r\n      if (marker.current) {\r\n        marker.current.remove();\r\n        marker.current = null;\r\n      }\r\n\r\n      // Fly to location\r\n      map.current.flyTo({\r\n        center: [lng, lat],\r\n        zoom: zoom,\r\n        duration: 2000,\r\n      });\r\n\r\n      // Add custom marker with image if provided\r\n      if (imageUrl) {\r\n        // Create custom marker element\r\n        const el = document.createElement('div');\r\n        el.className = 'custom-marker';\r\n        el.style.backgroundImage = `url(${imageUrl})`;\r\n        el.style.width = '60px';\r\n        el.style.height = '60px';\r\n        el.style.backgroundSize = 'cover';\r\n        el.style.backgroundPosition = 'center';\r\n        el.style.borderRadius = '12px';\r\n        el.style.border = '3px solid white';\r\n        el.style.boxShadow = '0 4px 12px rgba(0, 0, 0, 0.4)';\r\n        el.style.cursor = 'pointer';\r\n        el.style.transition = 'transform 0.2s';\r\n\r\n        // Add hover effect\r\n        el.addEventListener('mouseenter', () => {\r\n          el.style.transform = 'scale(1.1)';\r\n        });\r\n        el.addEventListener('mouseleave', () => {\r\n          el.style.transform = 'scale(1)';\r\n        });\r\n\r\n        // Create and add marker\r\n        const newMarker = new mapboxgl.Marker({ element: el })\r\n          .setLngLat([lng, lat])\r\n          .addTo(map.current);\r\n\r\n        marker.current = newMarker;\r\n      }\r\n    };\r\n\r\n    newMap.on('load', () => {\r\n      // T√πy ch·ªânh m√†u s·∫Øc ƒë·ªÉ gi·ªëng Windy\r\n      newMap.setPaintProperty('background', 'background-color', '#0a1929');\r\n\r\n      // Call onMapReady callback with flyToLocation function\r\n      onMapReady?.(flyToLocation);\r\n      \r\n      // Th√™m layer ƒë∆∞·ªùng bi√™n qu·ªëc gia (t·∫°m th·ªùi t·∫Øt ƒë·ªÉ debug)\r\n      // newMap.addSource('admin-source', {\r\n      //   type: 'vector',\r\n      //   url: 'mapbox://mapbox.country-boundaries-v1',\r\n      // });\r\n\r\n      // newMap.addLayer({\r\n      //   id: 'country-boundaries',\r\n      //   type: 'line',\r\n      //   source: 'admin-source',\r\n      //   'source-layer': 'country_boundaries',\r\n      //   paint: {\r\n      //     'line-color': '#5a6f7f',\r\n      //     'line-width': 1,\r\n      //     'line-opacity': 0.5,\r\n      //   },\r\n      // });\r\n\r\n      // ===== TH√äM LAYER GI√ì T·ª™ GEOSERVER =====\r\n      console.log('üîç GeoServer config:', {\r\n        enabled: geoServerConfig.enabled,\r\n        url: geoServerConfig.url,\r\n        workspace: geoServerConfig.workspace,\r\n        windLayer: geoServerConfig.windLayer\r\n      });\r\n\r\n      // Ch·ªâ th√™m layer gi√≥ n·∫øu enabled trong config\r\n      if (geoServerConfig.enabled) {\r\n        try {\r\n          const windLayerName = `${geoServerConfig.workspace}:${geoServerConfig.windLayer}`;\r\n          const tileUrl = getWMSTileUrl(windLayerName);\r\n\r\n          console.log('üåê Wind tile URL:', tileUrl);\r\n\r\n          newMap.addSource('wind-source', {\r\n            type: 'raster',\r\n            tiles: [tileUrl],\r\n            tileSize: geoServerConfig.wms.tileSize,\r\n          });\r\n\r\n          // newMap.addLayer({\r\n          //   id: 'wind-layer',\r\n          //   type: 'raster',\r\n          //   source: 'wind-source',\r\n          //   paint: {\r\n          //     'raster-opacity': geoServerConfig.display.opacity,\r\n          //     'raster-fade-duration': geoServerConfig.display.fadeDuration,\r\n          //   },\r\n          // });\r\n\r\n          console.log('‚úÖ Map loaded with wind layer from GeoServer');\r\n        } catch (error) {\r\n          console.error('‚ùå Error loading wind layer:', error);\r\n          console.log('üí° Tip: Set NEXT_PUBLIC_GEOSERVER_ENABLED=false to disable wind layer');\r\n        }\r\n      } else {\r\n        console.log('‚ÑπÔ∏è Wind layer disabled');\r\n      }\r\n    });\r\n\r\n    // Update map state on move\r\n    newMap.on('move', () => {\r\n      const center = newMap.getCenter();\r\n      const zoom = newMap.getZoom();\r\n      setMapState({\r\n        lat: center.lat,\r\n        lng: center.lng,\r\n        zoom,\r\n      });\r\n    });\r\n\r\n    newMap.on('dragend', () => {\r\n      const center = newMap?.getCenter?.();\r\n      const mapBounds = newMap?.getBounds?.();\r\n\r\n      if (center && mapBounds && !mapBounds.contains(center)) {\r\n        newMap.fitBounds(bounds, { padding: 0 });\r\n      }\r\n    });\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (marker.current) {\r\n        marker.current.remove();\r\n      }\r\n      newMap.remove();\r\n    };\r\n  }, []);\r\n\r\n  // Zoom controls callbacks\r\n  const handleZoomIn = useCallback(() => {\r\n    if (map.current) {\r\n      map.current.zoomIn();\r\n    }\r\n  }, []);\r\n\r\n  const handleZoomOut = useCallback(() => {\r\n    if (map.current) {\r\n      map.current.zoomOut();\r\n      \r\n    }\r\n  }, []);\r\n\r\n  const handleLocationClick = useCallback(() => {\r\n    console.log('üîç handleLocationClick', mapState);\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        (position) => {\r\n          if (map.current) {\r\n            map.current.flyTo({\r\n              center: [position.coords.longitude, position.coords.latitude],\r\n              zoom: 12,\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          console.error('Error getting location:', error);\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const handleLayerToggle = useCallback((layer: string, enabled: boolean) => {\r\n    console.log(`Layer ${layer} toggled:`, enabled);\r\n    // Implement layer toggle logic here based on your needs\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"relative w-full h-full bg-[#0a1929]\">\r\n      <div ref={mapContainer} className=\"w-full h-full\" />\r\n      \r\n      {/* Map Controls - Search and Layers */}\r\n      <MapControls onLayerToggle={handleLayerToggle} />\r\n      \r\n      {/* Zoom Controls - Zoom buttons and Location */}\r\n      <ZoomControls\r\n        onZoomIn={handleZoomIn}\r\n        onZoomOut={handleZoomOut}\r\n        onLocationClick={handleLocationClick}\r\n      />\r\n      \r\n      {/* Wind Legend (if enabled) */}\r\n      {geoServerConfig.enabled && <WindLegend />}\r\n      \r\n      {/* Map Info - Coordinates and Zoom level */}\r\n      <MapInfo lat={mapState.lat} lng={mapState.lng} zoom={mapState.zoom} />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1166, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/LayerControls.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface LayerControlsProps {\r\n  onOpacityChange: (opacity: number) => void;\r\n  onToggleLayer: (visible: boolean) => void;\r\n}\r\n\r\nexport default function LayerControls({\r\n  onOpacityChange,\r\n  onToggleLayer,\r\n}: LayerControlsProps) {\r\n  const [opacity, setOpacity] = useState(70);\r\n  const [isVisible, setIsVisible] = useState(true);\r\n\r\n  const handleOpacityChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const newOpacity = parseInt(e.target.value);\r\n    setOpacity(newOpacity);\r\n    onOpacityChange(newOpacity / 100);\r\n  };\r\n\r\n  const handleToggle = () => {\r\n    const newVisibility = !isVisible;\r\n    setIsVisible(newVisibility);\r\n    onToggleLayer(newVisibility);\r\n  };\r\n\r\n  return (\r\n    <div className=\"absolute top-4 right-4 bg-gray-900/90 backdrop-blur-sm rounded-lg p-4 shadow-lg border border-gray-700 min-w-[250px]\">\r\n      <h3 className=\"text-white font-semibold mb-3 text-sm\">Layer Controls</h3>\r\n      \r\n      {/* Toggle Wind Layer */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <label className=\"text-gray-300 text-sm\">Wind Layer</label>\r\n        <button\r\n          onClick={handleToggle}\r\n          className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\r\n            isVisible ? 'bg-blue-600' : 'bg-gray-600'\r\n          }`}\r\n        >\r\n          <span\r\n            className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\r\n              isVisible ? 'translate-x-6' : 'translate-x-1'\r\n            }`}\r\n          />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Opacity Slider */}\r\n      <div className=\"mb-2\">\r\n        <div className=\"flex items-center justify-between mb-2\">\r\n          <label className=\"text-gray-300 text-sm\">Opacity</label>\r\n          <span className=\"text-gray-400 text-xs\">{opacity}%</span>\r\n        </div>\r\n        <input\r\n          type=\"range\"\r\n          min=\"0\"\r\n          max=\"100\"\r\n          value={opacity}\r\n          onChange={handleOpacityChange}\r\n          disabled={!isVisible}\r\n          className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed\r\n            [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 \r\n            [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-500 [&::-webkit-slider-thumb]:cursor-pointer\r\n            [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:rounded-full \r\n            [&::-moz-range-thumb]:bg-blue-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer\"\r\n        />\r\n      </div>\r\n\r\n      {/* Info */}\r\n      <div className=\"mt-4 pt-3 border-t border-gray-700\">\r\n        <p className=\"text-gray-400 text-xs\">\r\n          Data source: GeoServer\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASe,SAAS,cAAc,EACpC,eAAe,EACf,aAAa,EACM;;IACnB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAE3C,MAAM,sBAAsB,CAAC;QAC3B,MAAM,aAAa,SAAS,EAAE,MAAM,CAAC,KAAK;QAC1C,WAAW;QACX,gBAAgB,aAAa;IAC/B;IAEA,MAAM,eAAe;QACnB,MAAM,gBAAgB,CAAC;QACvB,aAAa;QACb,cAAc;IAChB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAwC;;;;;;0BAGtD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAM,WAAU;kCAAwB;;;;;;kCACzC,6LAAC;wBACC,SAAS;wBACT,WAAW,CAAC,0EAA0E,EACpF,YAAY,gBAAgB,eAC5B;kCAEF,cAAA,6LAAC;4BACC,WAAW,CAAC,0EAA0E,EACpF,YAAY,kBAAkB,iBAC9B;;;;;;;;;;;;;;;;;0BAMR,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAwB;;;;;;0CACzC,6LAAC;gCAAK,WAAU;;oCAAyB;oCAAQ;;;;;;;;;;;;;kCAEnD,6LAAC;wBACC,MAAK;wBACL,KAAI;wBACJ,KAAI;wBACJ,OAAO;wBACP,UAAU;wBACV,UAAU,CAAC;wBACX,WAAU;;;;;;;;;;;;0BASd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;8BAAwB;;;;;;;;;;;;;;;;;AAM7C;GArEwB;KAAA","debugId":null}},
    {"offset": {"line": 1316, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/map/index.ts"],"sourcesContent":["export { default as Map } from './Map';\r\nexport { default as MapControls } from './MapControls';\r\nexport { default as MapInfo } from './MapInfo';\r\nexport { default as WindLegend } from './WindLegend';\r\nexport { default as ZoomControls } from './ZoomControls';\r\nexport { default as LayerControls } from './LayerControls';\r\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA","debugId":null}},
    {"offset": {"line": 1345, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/tabs/NewsDetail.tsx"],"sourcesContent":["'use client';\r\n\r\ntype NewsItem = {\r\n  id: number;\r\n  title: string;\r\n  image: string;\r\n  coordinates: [number, number];\r\n  category?: string;\r\n  date?: string;\r\n  author?: string;\r\n  content: string;\r\n};\r\n\r\ntype NewsDetailProps = {\r\n  news: NewsItem;\r\n  onBack: () => void;\r\n};\r\n\r\nexport default function NewsDetail({ news, onBack }: NewsDetailProps) {\r\n  return (\r\n    <div className=\"flex-1 flex flex-col h-full bg-[#101922]\">\r\n      {/* Fixed Header with Back Button */}\r\n      <div className=\"flex-shrink-0 px-4 py-3 border-b border-white/10\">\r\n        <button\r\n          onClick={onBack}\r\n          className=\"flex items-center gap-2 text-gray-400 hover:text-white transition-colors\"\r\n        >\r\n          <svg\r\n            className=\"w-5 h-5\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d=\"M15 19l-7-7 7-7\"\r\n            />\r\n          </svg>\r\n          <span className=\"text-sm font-medium\">Back to News</span>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Fixed Image with rounded corners and shadow */}\r\n      <div className=\"flex-shrink-0 px-4 pt-4\">\r\n        <div\r\n          className=\"w-full h-48 bg-cover bg-center bg-gray-800 rounded-xl shadow-lg\"\r\n          style={{ backgroundImage: `url(${news.image})` }}\r\n        />\r\n      </div>\r\n\r\n      {/* Scrollable Content */}\r\n      <div className=\"flex-1 overflow-y-auto\">\r\n        <div className=\"px-4 py-4\">\r\n          <div className=\"flex flex-col gap-4\">\r\n            {/* Meta Information */}\r\n            <div className=\"flex flex-wrap gap-2 text-xs text-gray-400\">\r\n              {news.category && (\r\n                <span className=\"bg-[#137fec] text-white px-2.5 py-1 rounded-full font-medium\">\r\n                  {news.category}\r\n                </span>\r\n              )}\r\n              {news.date && <span className=\"flex items-center gap-1\">\r\n                <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                {news.date}\r\n              </span>}\r\n              {news.author && <span className=\"flex items-center gap-1\">\r\n                <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n                By {news.author}\r\n              </span>}\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <h1 className=\"text-xl font-bold text-white leading-tight\">\r\n              {news.title}\r\n            </h1>\r\n\r\n            {/* Location Info */}\r\n            <div className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\r\n                />\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                />\r\n              </svg>\r\n              <span>\r\n                {news.coordinates[1].toFixed(4)}¬∞N, {news.coordinates[0].toFixed(4)}¬∞E\r\n              </span>\r\n            </div>\r\n\r\n            {/* Content */}\r\n            <div className=\"text-gray-300 text-sm leading-relaxed whitespace-pre-line\">\r\n              {news.content}\r\n            </div>\r\n\r\n            {/* Additional Info or Actions */}\r\n            <div className=\"pt-4 border-t border-white/10 flex gap-3\">\r\n              <button className=\"flex-1 px-4 py-2.5 bg-[#137fec] text-white rounded-xl hover:bg-[#137fec]/90 transition-all text-sm font-medium shadow-lg hover:shadow-xl hover:scale-[1.02] flex items-center justify-center gap-2\">\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\" />\r\n                </svg>\r\n                Share\r\n              </button>\r\n              <button className=\"flex-1 px-4 py-2.5 bg-gray-700/60 text-white rounded-xl hover:bg-gray-700 transition-all text-sm font-medium hover:scale-[1.02] flex items-center justify-center gap-2\">\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z\" />\r\n                </svg>\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAAA;;AAkBe,SAAS,WAAW,EAAE,IAAI,EAAE,MAAM,EAAmB;IAClE,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,6LAAC;4BACC,WAAU;4BACV,MAAK;4BACL,QAAO;4BACP,SAAQ;sCAER,cAAA,6LAAC;gCACC,eAAc;gCACd,gBAAe;gCACf,aAAa;gCACb,GAAE;;;;;;;;;;;sCAGN,6LAAC;4BAAK,WAAU;sCAAsB;;;;;;;;;;;;;;;;;0BAK1C,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,iBAAiB,CAAC,IAAI,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC;oBAAC;;;;;;;;;;;0BAKnD,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;oCACZ,KAAK,QAAQ,kBACZ,6LAAC;wCAAK,WAAU;kDACb,KAAK,QAAQ;;;;;;oCAGjB,KAAK,IAAI,kBAAI,6LAAC;wCAAK,WAAU;;0DAC5B,6LAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAe,SAAQ;0DACnD,cAAA,6LAAC;oDAAK,UAAS;oDAAU,GAAE;oDAAyJ,UAAS;;;;;;;;;;;4CAE9L,KAAK,IAAI;;;;;;;oCAEX,KAAK,MAAM,kBAAI,6LAAC;wCAAK,WAAU;;0DAC9B,6LAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAe,SAAQ;0DACnD,cAAA,6LAAC;oDAAK,UAAS;oDAAU,GAAE;oDAAsD,UAAS;;;;;;;;;;;4CACtF;4CACF,KAAK,MAAM;;;;;;;;;;;;;0CAKnB,6LAAC;gCAAG,WAAU;0CACX,KAAK,KAAK;;;;;;0CAIb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,WAAU;wCACV,MAAK;wCACL,QAAO;wCACP,SAAQ;;0DAER,6LAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;0DAEJ,6LAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;;kDAGN,6LAAC;;4CACE,KAAK,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC;4CAAG;4CAAK,KAAK,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC;4CAAG;;;;;;;;;;;;;0CAKxE,6LAAC;gCAAI,WAAU;0CACZ,KAAK,OAAO;;;;;;0CAIf,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAO,WAAU;;0DAChB,6LAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DACjE,cAAA,6LAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;4CACjE;;;;;;;kDAGR,6LAAC;wCAAO,WAAU;;0DAChB,6LAAC;gDAAI,WAAU;gDAAU,MAAK;gDAAO,QAAO;gDAAe,SAAQ;0DACjE,cAAA,6LAAC;oDAAK,eAAc;oDAAQ,gBAAe;oDAAQ,aAAa;oDAAG,GAAE;;;;;;;;;;;4CACjE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAStB;KAnHwB","debugId":null}},
    {"offset": {"line": 1670, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/tabs/NewsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport NewsDetail from './NewsDetail';\r\n\r\nconst categories = ['All', 'Category 1', 'Category 2', 'Category 3', 'Category 4'];\r\n\r\nexport type NewsItem = {\r\n  id: number;\r\n  title: string;\r\n  image: string;\r\n  coordinates: [number, number]; // [longitude, latitude]\r\n  category: string;\r\n  date: string;\r\n  author: string;\r\n  content: string;\r\n};\r\n\r\nconst newsItems: NewsItem[] = [\r\n  {\r\n    id: 1,\r\n    title: \"New satellite images show Hurricane Leo's path\",\r\n    image: 'https://images.unsplash.com/photo-1527482797697-8795b05a13fe?w=400&h=300&fit=crop',\r\n    coordinates: [105.8342, 21.0278], // H√† N·ªôi\r\n    category: 'Hurricane',\r\n    date: 'Nov 14, 2024',\r\n    author: 'Weather Team',\r\n    content: `Hurricane Leo has intensified to a Category 4 storm, with maximum sustained winds reaching 130 mph. New satellite imagery from NOAA shows the hurricane's eye wall is well-defined and the storm continues to track westward.\r\n\r\nMeteorologists are closely monitoring Hurricane Leo as it approaches the coastal regions. The storm has grown in size and intensity over the past 24 hours, with hurricane-force winds extending outward up to 70 miles from the center.\r\n\r\nResidents in affected areas are urged to complete their preparations and heed evacuation orders. Storm surge of 10-15 feet is possible along the coast, along with heavy rainfall that could cause significant flooding in low-lying areas.\r\n\r\nThe National Hurricane Center has issued hurricane warnings for several coastal counties. Emergency management officials are coordinating with local authorities to ensure shelters are open and ready to receive evacuees.`,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"Understanding the new 'Tornado Alley' shift\",\r\n    image: 'https://images.unsplash.com/photo-1601134467661-3d775b999c8f?w=400&h=300&fit=crop',\r\n    coordinates: [108.2022, 16.0544], // ƒê√† N·∫µng\r\n    category: 'Tornado',\r\n    date: 'Nov 13, 2024',\r\n    author: 'Climate Research Team',\r\n    content: `Recent data shows a significant shift in tornado activity patterns across the region. Scientists have observed that the traditional \"Tornado Alley\" is expanding and shifting eastward.\r\n\r\nClimate scientists attribute this change to several factors, including warming ocean temperatures and shifting atmospheric patterns. The research, conducted over a 20-year period, shows a clear trend in tornado frequency and intensity.\r\n\r\nCommunities that previously saw few tornadoes are now experiencing increased activity. This has prompted emergency management officials to update their preparedness plans and warning systems.\r\n\r\nExperts recommend that all residents in affected areas have a tornado safety plan, including knowing where to shelter and how to receive emergency alerts.`,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'How to prepare for flash flood events',\r\n    image: 'https://images.unsplash.com/photo-1547683905-f686c993aae5?w=400&h=300&fit=crop',\r\n    coordinates: [106.6297, 10.8231], // TP HCM\r\n    category: 'Flood',\r\n    date: 'Nov 12, 2024',\r\n    author: 'Safety Team',\r\n    content: `Flash flooding is one of the most dangerous weather hazards. Here's what you need to know to stay safe.\r\n\r\nFlash floods can occur within minutes or hours of heavy rainfall, dam or levee failure, or sudden release of water. They are characterized by a rapid rise in water levels and can carry debris, damage infrastructure, and create life-threatening situations.\r\n\r\nKey preparation steps:\r\n- Know your flood risk and evacuation routes\r\n- Prepare an emergency kit with supplies for at least 3 days\r\n- Sign up for emergency alerts\r\n- Never drive through flooded roadways\r\n- Move to higher ground immediately if flooding begins\r\n\r\nRemember: Turn Around, Don't Drown. Just 6 inches of moving water can knock you down, and 12 inches can sweep away most vehicles.`,\r\n  },\r\n  {\r\n    id: 4,\r\n    title: 'Wildfire smoke tracker: Air quality updates',\r\n    image: 'https://images.unsplash.com/photo-1611273426858-450d8e3c9fce?w=400&h=300&fit=crop',\r\n    coordinates: [107.5847, 16.4637], // Hu·∫ø\r\n    category: 'Wildfire',\r\n    date: 'Nov 11, 2024',\r\n    author: 'Air Quality Team',\r\n    content: `Wildfire smoke from regional fires continues to impact air quality across multiple counties. Real-time monitoring shows particulate matter levels reaching unhealthy levels.\r\n\r\nThe smoke plume is expected to persist for several more days as firefighters work to contain the blazes. Residents are advised to limit outdoor activities and keep windows and doors closed.\r\n\r\nSensitive groups, including children, elderly, and those with respiratory conditions, should take extra precautions. Consider using air purifiers indoors and wearing N95 masks if you must go outside.\r\n\r\nCheck local air quality index (AQI) readings regularly and follow recommendations from health officials. School districts may modify outdoor activities based on air quality conditions.`,\r\n  },\r\n  {\r\n    id: 5,\r\n    title: 'Storm chasers capture incredible lightning strikes',\r\n    image: 'https://images.unsplash.com/photo-1605727216801-e27ce1d0cc28?w=400&h=300&fit=crop',\r\n    coordinates: [105.4117, 9.7781], // C·∫ßn Th∆°\r\n    category: 'Storm',\r\n    date: 'Nov 10, 2024',\r\n    author: 'Storm Chasers',\r\n    content: `A team of storm chasers documented an extraordinary lightning display during last night's severe thunderstorm. The footage shows multiple cloud-to-ground strikes and rare ball lightning.\r\n\r\nThe storm produced over 10,000 lightning strikes in a 3-hour period, creating a spectacular light show visible for miles. Meteorologists say the unusual lightning activity was due to extreme atmospheric instability.\r\n\r\nLightning killed an average of 20 people per year in the US over the last decade. Remember to seek shelter immediately when thunder roars. You're not safe outside until 30 minutes after the last thunder.\r\n\r\nThe storm also produced large hail and damaging winds, causing power outages and property damage. Repair crews are working to restore services to affected areas.`,\r\n  },\r\n  {\r\n    id: 6,\r\n    title: 'NOAA releases its 2024 hurricane season outlook',\r\n    image: 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=400&h=300&fit=crop',\r\n    coordinates: [109.1967, 12.2388], // Nha Trang\r\n    category: 'Hurricane',\r\n    date: 'Nov 9, 2024',\r\n    author: 'NOAA',\r\n    content: `The National Oceanic and Atmospheric Administration (NOAA) has released its seasonal hurricane forecast, predicting an above-average season with 14-21 named storms.\r\n\r\nOf those, 6-11 could become hurricanes, including 2-5 major hurricanes (Category 3 or higher). The forecast is based on several climate factors, including warmer-than-average sea surface temperatures.\r\n\r\nNOAA Administrator emphasized the importance of preparation: \"Now is the time to make sure your family has an emergency plan and disaster supply kit ready.\"\r\n\r\nKey factors contributing to the active forecast include:\r\n- Warm Atlantic sea surface temperatures\r\n- La Ni√±a conditions expected to develop\r\n- Reduced wind shear in the hurricane formation region\r\n- Active West African monsoon\r\n\r\nCoastal residents should review their hurricane plans and ensure they're ready to act quickly if a storm threatens their area.`,\r\n  },\r\n];\r\n\r\ntype NewsTabProps = {\r\n  onNewsClick?: (news: NewsItem) => void;\r\n};\r\n\r\nexport default function NewsTab({ onNewsClick }: NewsTabProps) {\r\n  const [selectedCategory, setSelectedCategory] = useState('All');\r\n  const [selectedNews, setSelectedNews] = useState<NewsItem | null>(null);\r\n\r\n  const handleNewsClick = (news: NewsItem) => {\r\n    setSelectedNews(news);\r\n    onNewsClick?.(news);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setSelectedNews(null);\r\n  };\r\n\r\n  // Show detail view if a news item is selected\r\n  if (selectedNews) {\r\n    return <NewsDetail news={selectedNews} onBack={handleBack} />;\r\n  }\r\n\r\n  // Show list view\r\n  return (\r\n    <div className=\"flex-1 overflow-y-auto\">\r\n      <div className=\"px-4 py-4\">\r\n        <div className=\"flex flex-col gap-4\">\r\n          {/* Category Pills */}\r\n          <div className=\"flex gap-2 overflow-x-auto pb-2 -mx-4 px-4 no-scrollbar\">\r\n            {categories.map((category) => (\r\n              <button\r\n                key={category}\r\n                onClick={() => setSelectedCategory(category)}\r\n                className={`flex-shrink-0 rounded-lg px-3 py-1.5 text-sm font-medium transition-all ${\r\n                  selectedCategory === category\r\n                    ? 'bg-[#137fec] text-white'\r\n                    : 'bg-gray-700/60 text-gray-300 hover:bg-gray-700'\r\n                }`}\r\n              >\r\n                {category}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* News Grid */}\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            {newsItems.map((item) => (\r\n              <div key={item.id} className=\"flex flex-col gap-2\">\r\n                <button\r\n                  onClick={() => handleNewsClick(item)}\r\n                  className=\"block group w-full text-left\"\r\n                >\r\n                  <div\r\n                    className=\"aspect-video w-full rounded-lg bg-cover bg-center bg-gray-800 group-hover:opacity-80 transition-opacity\"\r\n                    style={{ backgroundImage: `url(${item.image})` }}\r\n                  />\r\n                </button>\r\n                <h3 className=\"text-sm font-medium leading-snug text-white\">\r\n                  {item.title}\r\n                </h3>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,aAAa;IAAC;IAAO;IAAc;IAAc;IAAc;CAAa;AAalF,MAAM,YAAwB;IAC5B;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,aAAa;YAAC;YAAU;SAAQ;QAChC,UAAU;QACV,MAAM;QACN,QAAQ;QACR,SAAS,CAAC;;;;;;2NAM6M,CAAC;IAC1N;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,aAAa;YAAC;YAAU;SAAQ;QAChC,UAAU;QACV,MAAM;QACN,QAAQ;QACR,SAAS,CAAC;;;;;;0JAM4I,CAAC;IACzJ;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,aAAa;YAAC;YAAU;SAAQ;QAChC,UAAU;QACV,MAAM;QACN,QAAQ;QACR,SAAS,CAAC;;;;;;;;;;;iIAWmH,CAAC;IAChI;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,aAAa;YAAC;YAAU;SAAQ;QAChC,UAAU;QACV,MAAM;QACN,QAAQ;QACR,SAAS,CAAC;;;;;;wLAM0K,CAAC;IACvL;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,aAAa;YAAC;YAAU;SAAO;QAC/B,UAAU;QACV,MAAM;QACN,QAAQ;QACR,SAAS,CAAC;;;;;;iKAMmJ,CAAC;IAChK;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,aAAa;YAAC;YAAU;SAAQ;QAChC,UAAU;QACV,MAAM;QACN,QAAQ;QACR,SAAS,CAAC;;;;;;;;;;;;8HAYgH,CAAC;IAC7H;CACD;AAMc,SAAS,QAAQ,EAAE,WAAW,EAAgB;;IAC3D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IACzD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAkB;IAElE,MAAM,kBAAkB,CAAC;QACvB,gBAAgB;QAChB,cAAc;IAChB;IAEA,MAAM,aAAa;QACjB,gBAAgB;IAClB;IAEA,8CAA8C;IAC9C,IAAI,cAAc;QAChB,qBAAO,6LAAC,sJAAU;YAAC,MAAM;YAAc,QAAQ;;;;;;IACjD;IAEA,iBAAiB;IACjB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACZ,WAAW,GAAG,CAAC,CAAC,yBACf,6LAAC;gCAEC,SAAS,IAAM,oBAAoB;gCACnC,WAAW,CAAC,wEAAwE,EAClF,qBAAqB,WACjB,4BACA,kDACJ;0CAED;+BARI;;;;;;;;;;kCAcX,6LAAC;wBAAI,WAAU;kCACZ,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;gCAAkB,WAAU;;kDAC3B,6LAAC;wCACC,SAAS,IAAM,gBAAgB;wCAC/B,WAAU;kDAEV,cAAA,6LAAC;4CACC,WAAU;4CACV,OAAO;gDAAE,iBAAiB,CAAC,IAAI,EAAE,KAAK,KAAK,CAAC,CAAC,CAAC;4CAAC;;;;;;;;;;;kDAGnD,6LAAC;wCAAG,WAAU;kDACX,KAAK,KAAK;;;;;;;+BAXL,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;AAoB/B;GA/DwB;KAAA","debugId":null}},
    {"offset": {"line": 1932, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/tabs/WarningsTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\nconst warnings = [\r\n  {\r\n    id: 1,\r\n    title: 'Tropical Storm Alert',\r\n    location: 'Coastal Region, Bay Area',\r\n    time: '2h ago',\r\n    severity: 'high',\r\n    color: 'red',\r\n    description:\r\n      'Strong winds and heavy rainfall expected. Secure loose objects and prepare for potential power outages. Evacuation routes are marked on the map.',\r\n    duration: '12 hours',\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Flash Flood Warning',\r\n    location: 'River Valley, Lowland Plains',\r\n    time: '5h ago',\r\n    severity: 'medium',\r\n    color: 'yellow',\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'High Surf Advisory',\r\n    location: 'Southern Beaches',\r\n    time: '8h ago',\r\n    severity: 'low',\r\n    color: 'green',\r\n  },\r\n  {\r\n    id: 4,\r\n    title: 'Thunderstorm Watch',\r\n    location: 'Inland Counties',\r\n    time: '10h ago',\r\n    severity: 'medium',\r\n    color: 'yellow',\r\n  },\r\n];\r\n\r\nexport default function WarningsTab() {\r\n  const [expandedId, setExpandedId] = useState<number | null>(null);\r\n\r\n  const getColorClasses = (color: string) => {\r\n    switch (color) {\r\n      case 'red':\r\n        return {\r\n          bg: 'bg-red-500/10',\r\n          border: 'border-red-500',\r\n          text: 'text-red-400',\r\n          hover: 'hover:bg-red-500/20',\r\n        };\r\n      case 'yellow':\r\n        return {\r\n          bg: 'bg-yellow-500/10',\r\n          border: 'border-yellow-500',\r\n          text: 'text-yellow-400',\r\n          hover: 'hover:bg-yellow-500/20',\r\n        };\r\n      case 'green':\r\n        return {\r\n          bg: 'bg-green-500/10',\r\n          border: 'border-green-500',\r\n          text: 'text-green-400',\r\n          hover: 'hover:bg-green-500/20',\r\n        };\r\n      default:\r\n        return {\r\n          bg: 'bg-gray-500/10',\r\n          border: 'border-gray-500',\r\n          text: 'text-gray-400',\r\n          hover: 'hover:bg-gray-500/20',\r\n        };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex-1 overflow-y-auto\">\r\n      <div className=\"px-4 py-4 space-y-4\">\r\n        {/* Filters */}\r\n        <div className=\"flex items-center gap-2\">\r\n          <select className=\"flex-1 rounded-lg border border-gray-700 bg-[#1c2127] px-3 py-2 text-sm text-white focus:ring-1 focus:ring-[#137fec] focus:border-[#137fec] outline-none\">\r\n            <option>All Types</option>\r\n            <option>Tropical Storm</option>\r\n            <option>Flash Flood</option>\r\n            <option>Tornado</option>\r\n          </select>\r\n          <select className=\"flex-1 rounded-lg border border-gray-700 bg-[#1c2127] px-3 py-2 text-sm text-white focus:ring-1 focus:ring-[#137fec] focus:border-[#137fec] outline-none\">\r\n            <option>All Severities</option>\r\n            <option>High</option>\r\n            <option>Medium</option>\r\n            <option>Low</option>\r\n          </select>\r\n        </div>\r\n\r\n        {/* Warning List */}\r\n        <div className=\"flex flex-col gap-3\">\r\n          {warnings.map((warning) => {\r\n            const colors = getColorClasses(warning.color);\r\n            const isExpanded = expandedId === warning.id;\r\n\r\n            return (\r\n              <div\r\n                key={warning.id}\r\n                className={`${colors.bg} border-l-4 ${colors.border} rounded-r-lg overflow-hidden`}\r\n              >\r\n                <div\r\n                  className={`p-3 cursor-pointer ${colors.hover} transition-colors`}\r\n                  onClick={() =>\r\n                    setExpandedId(isExpanded ? null : warning.id)\r\n                  }\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <h3 className={`font-bold ${colors.text} text-sm`}>\r\n                        {warning.title}\r\n                      </h3>\r\n                      <p className=\"text-xs text-gray-400\">\r\n                        {warning.location}\r\n                      </p>\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-400 flex-shrink-0 ml-2\">\r\n                      {warning.time}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Expanded Content */}\r\n                {isExpanded && warning.description && (\r\n                  <div\r\n                    className={`px-3 pb-3 pt-2 border-t ${colors.border}/20 animate-fadeIn`}\r\n                  >\r\n                    <p className=\"text-sm text-gray-300 mb-3\">\r\n                      {warning.description}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-400 mb-3\">\r\n                      Estimated Duration: {warning.duration}\r\n                    </p>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button className=\"flex-1 inline-flex items-center justify-center gap-2 text-sm px-3 py-1.5 rounded-md bg-gray-700 hover:bg-gray-600 text-white transition-colors\">\r\n                        <svg\r\n                          className=\"w-4 h-4\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z\"\r\n                          />\r\n                        </svg>\r\n                        Share\r\n                      </button>\r\n                      <button className=\"flex-1 inline-flex items-center justify-center gap-2 text-sm px-3 py-1.5 rounded-md bg-[#137fec] text-white hover:bg-[#137fec]/90 transition-colors\">\r\n                        <svg\r\n                          className=\"w-4 h-4\"\r\n                          fill=\"none\"\r\n                          stroke=\"currentColor\"\r\n                          viewBox=\"0 0 24 24\"\r\n                        >\r\n                          <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            strokeWidth={2}\r\n                            d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                          />\r\n                        </svg>\r\n                        Acknowledge\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2290, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/tabs/ChatbotTab.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\n\r\ntype Message = {\r\n  id: number;\r\n  text: string;\r\n  isUser: boolean;\r\n};\r\n\r\nexport default function ChatbotTab() {\r\n  const [messages, setMessages] = useState<Message[]>([\r\n    {\r\n      id: 1,\r\n      text: 'H√£y ch·ªâ ra cho t√¥i kho·∫£ng m·∫•y gi·ªù b√£o qua nh√† t√¥i',\r\n      isUser: true,\r\n    },\r\n    {\r\n      id: 2,\r\n      text: 'D·ª±a tr√™n v·ªã tr√≠ nh√† c·ªßa b·∫°n v√† ƒë∆∞·ªùng ƒëi d·ª± b√°o c·ªßa c∆°n b√£o, d·ª± ki·∫øn m·∫Øt b√£o s·∫Ω ƒëi qua v√†o kho·∫£ng 3:15 s√°ng. T√¥i ƒë√£ ph√≥ng to b·∫£n ƒë·ªì ƒë·∫øn v·ªã tr√≠ c·ªßa b·∫°n ƒë·ªÉ b·∫°n c√≥ th·ªÉ theo d√µi tr·ª±c ti·∫øp.',\r\n      isUser: false,\r\n    },\r\n  ]);\r\n  const [inputText, setInputText] = useState('');\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const handleSend = () => {\r\n    if (!inputText.trim()) return;\r\n\r\n    const newMessage: Message = {\r\n      id: messages.length + 1,\r\n      text: inputText,\r\n      isUser: true,\r\n    };\r\n\r\n    setMessages([...messages, newMessage]);\r\n    setInputText('');\r\n\r\n    // Simulate bot response\r\n    setTimeout(() => {\r\n      const botResponse: Message = {\r\n        id: messages.length + 2,\r\n        text: 'T√¥i ƒëang ph√¢n t√≠ch d·ªØ li·ªáu th·ªùi ti·∫øt ƒë·ªÉ tr·∫£ l·ªùi c√¢u h·ªèi c·ªßa b·∫°n...',\r\n        isUser: false,\r\n      };\r\n      setMessages((prev) => [...prev, botResponse]);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-full\">\r\n      {/* Messages */}\r\n      <div className=\"flex-1 overflow-y-auto px-4 py-4 scrollbar-thin\">\r\n        <div className=\"flex flex-col gap-4\">\r\n          {messages.map((message) => (\r\n            <div\r\n              key={message.id}\r\n              className={`flex ${message.isUser ? 'justify-end' : 'justify-start'}`}\r\n            >\r\n              <div\r\n                className={`max-w-[80%] rounded-lg px-3 py-2 ${\r\n                  message.isUser\r\n                    ? 'bg-gray-700 text-white'\r\n                    : 'bg-[#137fec] text-white'\r\n                }`}\r\n              >\r\n                <p className=\"text-sm leading-normal\">{message.text}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <div ref={messagesEndRef} />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <div className=\"flex-shrink-0 px-4 pb-4 border-t border-white/10 pt-4\">\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            value={inputText}\r\n            onChange={(e) => setInputText(e.target.value)}\r\n            onKeyDown={handleKeyPress}\r\n            placeholder=\"Nh·∫≠p tin nh·∫Øn...\"\r\n            className=\"flex-1 rounded-lg border border-gray-700 bg-[#1c2127] px-3 py-2 text-sm text-white placeholder:text-gray-400 focus:ring-1 focus:ring-[#137fec] focus:border-[#137fec] outline-none\"\r\n          />\r\n          <button\r\n            onClick={handleSend}\r\n            disabled={!inputText.trim()}\r\n            className=\"px-4 py-2 rounded-lg bg-[#137fec] text-white hover:bg-[#137fec]/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0\"\r\n          >\r\n            <svg\r\n              className=\"w-5 h-5\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAUe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY;QAClD;YACE,IAAI;YACJ,MAAM;YACN,QAAQ;QACV;QACA;YACE,IAAI;YACJ,MAAM;YACN,QAAQ;QACV;KACD;IACD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,iBAAiB,IAAA,uKAAM,EAAiB;IAE9C,MAAM,iBAAiB;QACrB,eAAe,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAC9D;IAEA,IAAA,0KAAS;gCAAC;YACR;QACF;+BAAG;QAAC;KAAS;IAEb,MAAM,aAAa;QACjB,IAAI,CAAC,UAAU,IAAI,IAAI;QAEvB,MAAM,aAAsB;YAC1B,IAAI,SAAS,MAAM,GAAG;YACtB,MAAM;YACN,QAAQ;QACV;QAEA,YAAY;eAAI;YAAU;SAAW;QACrC,aAAa;QAEb,wBAAwB;QACxB,WAAW;YACT,MAAM,cAAuB;gBAC3B,IAAI,SAAS,MAAM,GAAG;gBACtB,MAAM;gBACN,QAAQ;YACV;YACA,YAAY,CAAC,OAAS;uBAAI;oBAAM;iBAAY;QAC9C,GAAG;IACL;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,QAAQ,EAAE;YACpC,EAAE,cAAc;YAChB;QACF;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;gCAEC,WAAW,CAAC,KAAK,EAAE,QAAQ,MAAM,GAAG,gBAAgB,iBAAiB;0CAErE,cAAA,6LAAC;oCACC,WAAW,CAAC,iCAAiC,EAC3C,QAAQ,MAAM,GACV,2BACA,2BACJ;8CAEF,cAAA,6LAAC;wCAAE,WAAU;kDAA0B,QAAQ,IAAI;;;;;;;;;;;+BAVhD,QAAQ,EAAE;;;;;sCAcnB,6LAAC;4BAAI,KAAK;;;;;;;;;;;;;;;;;0BAKd,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4BAC5C,WAAW;4BACX,aAAY;4BACZ,WAAU;;;;;;sCAEZ,6LAAC;4BACC,SAAS;4BACT,UAAU,CAAC,UAAU,IAAI;4BACzB,WAAU;sCAEV,cAAA,6LAAC;gCACC,WAAU;gCACV,MAAK;gCACL,QAAO;gCACP,SAAQ;0CAER,cAAA,6LAAC;oCACC,eAAc;oCACd,gBAAe;oCACf,aAAa;oCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQlB;GAjHwB;KAAA","debugId":null}},
    {"offset": {"line": 2482, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/layout/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport NewsTab, { NewsItem } from '../tabs/NewsTab';\r\nimport WarningsTab from '../tabs/WarningsTab';\r\nimport ChatbotTab from '../tabs/ChatbotTab';\r\n\r\ntype Tab = 'news' | 'warnings' | 'chatbot';\r\n\r\ntype SidebarProps = {\r\n  onNewsClick?: (news: NewsItem) => void;\r\n};\r\n\r\nexport default function Sidebar({ onNewsClick }: SidebarProps) {\r\n  const [activeTab, setActiveTab] = useState<Tab>('warnings');\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n\r\n  return (\r\n    <aside className={`absolute left-0 top-0 h-full z-20 bg-[#101922] border-r border-white/10 transition-[width] duration-300 ease-in-out ${\r\n      isCollapsed ? 'w-12' : 'w-80'\r\n    }`}>\r\n      <div className=\"flex flex-col h-full\">\r\n        {isCollapsed ? (\r\n          /* Collapsed state - only show expand button */\r\n          <button\r\n            onClick={() => setIsCollapsed(false)}\r\n            className=\"w-12 h-12 flex items-center justify-center text-gray-400 hover:text-white hover:bg-[#1c2127] transition-colors\"\r\n          >\r\n            <svg\r\n              className=\"w-6 h-6\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M4 6h16M4 12h16M4 18h16\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        ) : (\r\n          /* Expanded state - show full header */\r\n          <>\r\n            <div className=\"flex items-center justify-between gap-3 p-4 border-b border-white/10\">\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"bg-teal-600 rounded-full size-10 flex items-center justify-center flex-shrink-0\">\r\n                  <svg\r\n                    className=\"w-6 h-6 text-white\"\r\n                    fill=\"none\"\r\n                    stroke=\"currentColor\"\r\n                    viewBox=\"0 0 24 24\"\r\n                  >\r\n                    <path\r\n                      strokeLinecap=\"round\"\r\n                      strokeLinejoin=\"round\"\r\n                      strokeWidth={2}\r\n                      d=\"M13 10V3L4 14h7v7l9-11h-7z\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                <h1 className=\"text-white text-base font-medium leading-normal\">\r\n                  Storm Tracker\r\n                </h1>\r\n              </div>\r\n              <button\r\n                onClick={() => setIsCollapsed(true)}\r\n                className=\"p-1 text-gray-400 hover:text-white transition-colors flex-shrink-0\"\r\n              >\r\n                <svg\r\n                  className=\"w-6 h-6\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M6 18L18 6M6 6l12 12\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            {/* Tab Navigation */}\r\n            <div className=\"flex px-4 py-3\">\r\n              <div className=\"flex h-10 flex-1 items-center justify-center rounded-lg bg-[#1c2127] p-1 gap-1\">\r\n                <button\r\n                  onClick={() => setActiveTab('news')}\r\n                  className={`flex h-full grow items-center justify-center rounded-lg px-2 text-sm font-medium transition-all ${\r\n                    activeTab === 'news'\r\n                      ? 'bg-[#101922] shadow-sm text-white'\r\n                      : 'text-gray-400 hover:text-gray-300'\r\n                  }`}\r\n                >\r\n                  News\r\n                </button>\r\n                <button\r\n                  onClick={() => setActiveTab('warnings')}\r\n                  className={`flex h-full grow items-center justify-center rounded-lg px-2 text-sm font-medium transition-all ${\r\n                    activeTab === 'warnings'\r\n                      ? 'bg-[#101922] shadow-sm text-white'\r\n                      : 'text-gray-400 hover:text-gray-300'\r\n                  }`}\r\n                >\r\n                  Warnings\r\n                </button>\r\n                <button\r\n                  onClick={() => setActiveTab('chatbot')}\r\n                  className={`flex h-full grow items-center justify-center rounded-lg px-2 text-sm font-medium transition-all ${\r\n                    activeTab === 'chatbot'\r\n                      ? 'bg-[#101922] shadow-sm text-white'\r\n                      : 'text-gray-400 hover:text-gray-300'\r\n                  }`}\r\n                >\r\n                  Chatbot\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Tab Content */}\r\n            <div className=\"flex-1 overflow-hidden flex flex-col\">\r\n              {activeTab === 'news' && <NewsTab onNewsClick={onNewsClick} />}\r\n              {activeTab === 'warnings' && <WarningsTab />}\r\n              {activeTab === 'chatbot' && <ChatbotTab />}\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"p-4 border-t border-white/10\">\r\n              <a\r\n                href=\"#\"\r\n                className=\"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/5 transition-colors\"\r\n              >\r\n                <svg\r\n                  className=\"w-5 h-5 text-gray-300\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\r\n                  />\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                  />\r\n                </svg>\r\n                <p className=\"text-white text-sm font-medium\">Settings</p>\r\n              </a>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAae,SAAS,QAAQ,EAAE,WAAW,EAAgB;;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAM;IAChD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,qBACE,6LAAC;QAAM,WAAW,CAAC,oHAAoH,EACrI,cAAc,SAAS,QACvB;kBACA,cAAA,6LAAC;YAAI,WAAU;sBACZ,cACC,6CAA6C,iBAC7C,6LAAC;gBACC,SAAS,IAAM,eAAe;gBAC9B,WAAU;0BAEV,cAAA,6LAAC;oBACC,WAAU;oBACV,MAAK;oBACL,QAAO;oBACP,SAAQ;8BAER,cAAA,6LAAC;wBACC,eAAc;wBACd,gBAAe;wBACf,aAAa;wBACb,GAAE;;;;;;;;;;;;;;;uBAKR,qCAAqC,iBACrC;;kCACE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC;4CACC,WAAU;4CACV,MAAK;4CACL,QAAO;4CACP,SAAQ;sDAER,cAAA,6LAAC;gDACC,eAAc;gDACd,gBAAe;gDACf,aAAa;gDACb,GAAE;;;;;;;;;;;;;;;;kDAIR,6LAAC;wCAAG,WAAU;kDAAkD;;;;;;;;;;;;0CAIlE,6LAAC;gCACC,SAAS,IAAM,eAAe;gCAC9B,WAAU;0CAEV,cAAA,6LAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,6LAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAOV,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,gGAAgG,EAC1G,cAAc,SACV,sCACA,qCACJ;8CACH;;;;;;8CAGD,6LAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,gGAAgG,EAC1G,cAAc,aACV,sCACA,qCACJ;8CACH;;;;;;8CAGD,6LAAC;oCACC,SAAS,IAAM,aAAa;oCAC5B,WAAW,CAAC,gGAAgG,EAC1G,cAAc,YACV,sCACA,qCACJ;8CACH;;;;;;;;;;;;;;;;;kCAOL,6LAAC;wBAAI,WAAU;;4BACZ,cAAc,wBAAU,6LAAC,mJAAO;gCAAC,aAAa;;;;;;4BAC9C,cAAc,4BAAc,6LAAC,uJAAW;;;;;4BACxC,cAAc,2BAAa,6LAAC,sJAAU;;;;;;;;;;;kCAIzC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,MAAK;4BACL,WAAU;;8CAEV,6LAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;;sDAER,6LAAC;4CACC,eAAc;4CACd,gBAAe;4CACf,aAAa;4CACb,GAAE;;;;;;sDAEJ,6LAAC;4CACC,eAAc;4CACd,gBAAe;4CACf,aAAa;4CACb,GAAE;;;;;;;;;;;;8CAGN,6LAAC;oCAAE,WAAU;8CAAiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ9D;GArJwB;KAAA","debugId":null}},
    {"offset": {"line": 2766, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/components/layout/index.ts"],"sourcesContent":["export { default as Sidebar } from './Sidebar';\r\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 2785, "column": 0}, "map": {"version":3,"sources":["file:///D:/pypy/Procon/StormTracker/frontend/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRef } from 'react';\r\nimport { Map } from './components/map';\r\nimport { Sidebar } from './components/layout';\r\nimport { NewsItem } from './components/tabs';\r\n\r\nexport default function Home() {\r\n  const flyToLocationRef = useRef<((lng: number, lat: number, zoom?: number, imageUrl?: string) => void) | null>(null);\r\n\r\n  const handleMapReady = (flyToLocation: (lng: number, lat: number, zoom?: number, imageUrl?: string) => void) => {\r\n    flyToLocationRef.current = flyToLocation;\r\n  };\r\n\r\n  const handleNewsClick = (news: NewsItem) => {\r\n    console.log('üìç News clicked:', news.title, news.coordinates);\r\n    \r\n    // Zoom to news location with image marker\r\n    if (flyToLocationRef.current) {\r\n      const [lng, lat] = news.coordinates;\r\n      flyToLocationRef.current(lng, lat, 10, news.image);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"relative h-screen w-full bg-[#101922]\">\r\n      <Sidebar onNewsClick={handleNewsClick} />\r\n      <div className=\"absolute inset-0\">\r\n        <Map onMapReady={handleMapReady} />\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,mBAAmB,IAAA,uKAAM,EAAgF;IAE/G,MAAM,iBAAiB,CAAC;QACtB,iBAAiB,OAAO,GAAG;IAC7B;IAEA,MAAM,kBAAkB,CAAC;QACvB,QAAQ,GAAG,CAAC,oBAAoB,KAAK,KAAK,EAAE,KAAK,WAAW;QAE5D,0CAA0C;QAC1C,IAAI,iBAAiB,OAAO,EAAE;YAC5B,MAAM,CAAC,KAAK,IAAI,GAAG,KAAK,WAAW;YACnC,iBAAiB,OAAO,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK;QACnD;IACF;IAEA,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC,2LAAO;gBAAC,aAAa;;;;;;0BACtB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,4KAAG;oBAAC,YAAY;;;;;;;;;;;;;;;;;AAIzB;GAzBwB;KAAA","debugId":null}}]
}